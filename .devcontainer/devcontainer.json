{
    "name": "R Development",
    "image": "ghcr.io/rocker-org/devcontainer/r-ver:4",
    "features": {
        "ghcr.io/rocker-org/devcontainer-features/renv-cache:latest": {}
    },
    "customizations": {
        "vscode": {
            "extensions": [
                "posit.air-vscode",
                "quarto.quarto"
            ],
            
            "settings": {
                    "[r]": {
                        "editor.formatOnSave": true,
                        "editor.defaultFormatter": "Posit.air-vscode"
                    }
                }   
            }
        },
    "postCreateCommand": {
        "renv-init": ["R", "-q", "-e", "'renv::init()'"],
        "languageserver":  ["R", "-q", "-e", "renv::install('languageserver', repos='https://p3m.dev/cran/__linux__/noble/latest')"],
        "quarto": ["sudo", "bash", ".devcontainer/quarto-1.7.31-cli.sh"]
    },
    "postStartCommand": {
        "renv-restore": ["R", "-q", "-e", "renv::restore()"]
    }
}
